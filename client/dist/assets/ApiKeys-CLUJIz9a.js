import{j as e}from"./animations-CVxur35w.js";import{r as i}from"./vendor-dbpypOpC.js";import{C as r,I as E,B as F,a as m}from"./Badge-CuQR1N-9.js";import{D as R}from"./DashboardShell-Bzp3PMd2.js";import{P as _,K as L,C as M,n as B,o as $,S as W}from"./icons-BJJ_CL-s.js";import"./index-BPDhQj-8.js";function G(){const[a,u]=i.useState([{id:"1",name:"Production API Key",lastFour:"a1b2",permissions:["read:users","read:analytics","write:users"],isActive:!0,lastUsedAt:new Date(Date.now()-72e5),expiresAt:new Date(Date.now()+15552e6),createdAt:new Date(Date.now()-7776e6)},{id:"2",name:"Development Key",lastFour:"c3d4",permissions:["read:users","read:teams","read:analytics"],isActive:!0,lastUsedAt:new Date(Date.now()-432e6),expiresAt:new Date(Date.now()+5184e6),createdAt:new Date(Date.now()-2592e6)},{id:"3",name:"Testing Key (Revoked)",lastFour:"e5f6",permissions:["read:users"],isActive:!1,lastUsedAt:new Date(Date.now()-5184e6),expiresAt:new Date(Date.now()-864e6),createdAt:new Date(Date.now()-7776e6)}]),[b,g]=i.useState(!1),[n,p]=i.useState(""),[d,h]=i.useState(["read:users"]),[y,j]=i.useState(null),[N,f]=i.useState(null),[A,v]=i.useState(null),D=[{value:"read:users",label:"Read Users",category:"Users"},{value:"write:users",label:"Write Users",category:"Users"},{value:"read:teams",label:"Read Teams",category:"Teams"},{value:"write:teams",label:"Write Teams",category:"Teams"},{value:"read:analytics",label:"Read Analytics",category:"Analytics"},{value:"read:notifications",label:"Read Notifications",category:"Notifications"},{value:"write:notifications",label:"Write Notifications",category:"Notifications"},{value:"admin:all",label:"Admin All",category:"Admin"}],K=()=>{if(!n.trim())return;const t={id:Date.now().toString(),name:n,lastFour:Math.random().toString(36).substr(2,4),permissions:d,isActive:!0,lastUsedAt:null,expiresAt:new Date(Date.now()+365*24*60*60*1e3),createdAt:new Date};u([t,...a]),j(t.id),p(""),h(["read:users"]),g(!1)},C=t=>{f(t),setTimeout(()=>{u(a.filter(l=>l.id!==t)),f(null)},800)},P=t=>{v(t),navigator.clipboard.writeText(`sk_live_${t}`),setTimeout(()=>v(null),2e3)},w=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=t=>{if(!t)return"Never";const s=new Date-t,c=Math.floor(s/(24*60*60*1e3)),x=Math.floor(s%(24*60*60*1e3)/(60*60*1e3));return c>0?`${c} days ago`:x>0?`${x} hours ago`:"Just now"},k=t=>{const l=Math.floor((new Date(t)-new Date)/864e5);return l<=30&&l>0},o=t=>new Date(t)<new Date,I=a.filter(t=>t.isActive).length,U=a.filter(t=>o(t.expiresAt)).length,T=a.filter(t=>k(t.expiresAt)).length;return e.jsx(R,{title:"API Keys",subtitle:"Manage your API keys for programmatic access",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(r,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Keys"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:a.length})]}),e.jsxs(r,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:I})]}),e.jsxs(r,{className:"p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Expiring Soon"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mt-2",children:T})]}),e.jsxs(r,{className:"p-6 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Expired"}),e.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mt-2",children:U})]})]}),b&&e.jsxs(r,{className:"p-6 border-2 border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New API Key"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Key Name"}),e.jsx(E,{type:"text",placeholder:"e.g., Production API Key",value:n,onChange:t=>p(t.target.value),maxLength:50})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Permissions"}),e.jsx("div",{className:"space-y-2",children:["Users","Teams","Analytics","Notifications","Admin"].map(t=>{const l=D.filter(s=>s.category===t);return e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:t}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.includes(s.value),onChange:c=>{c.target.checked?h([...d,s.value]):h(d.filter(x=>x!==s.value))},className:"rounded"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.label})]},s.value))})]},t)})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(F,{onClick:K,disabled:!n.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:"Create Key"}),e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition",children:"Cancel"})]})]})]}),y&&e.jsxs(r,{className:"p-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"âœ“ API Key Created Successfully"}),e.jsx("button",{onClick:()=>j(null),className:"text-green-600 hover:text-green-700",children:"âœ•"})]}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-300 mb-3",children:"Save this key somewhere safe. You won't be able to see it again."}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded border border-green-200 dark:border-green-800 font-mono text-sm break-all",children:["sk_live_",y]})]}),!b&&e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[e.jsx(_,{className:"w-4 h-4"}),"Create API Key"]}),e.jsx(r,{className:"overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No API keys yet. Create one to get started."}):a.map(t=>e.jsxs("div",{className:`p-6 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition ${t.isActive?"":"opacity-60"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["...",t.lastFour]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!t.isActive&&e.jsx(m,{className:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:"Revoked"}),o(t.expiresAt)&&e.jsx(m,{className:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:"Expired"}),k(t.expiresAt)&&!o(t.expiresAt)&&e.jsx(m,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",children:"Expiring Soon"}),t.isActive&&!o(t.expiresAt)&&e.jsx(m,{className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:"Active"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Created"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w(t.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Last Used"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:S(t.lastUsedAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Expires"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w(t.expiresAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Permissions"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.permissions.length," permission",t.permissions.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>P(t.id),className:"flex items-center gap-2 px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition",children:A===t.id?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4"}),"Copy"]})}),e.jsxs("button",{onClick:()=>C(t.id),disabled:N===t.id,className:"flex items-center gap-2 px-3 py-1 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition disabled:opacity-50",children:[e.jsx($,{className:"w-4 h-4"}),N===t.id?"Deleting...":"Delete"]})]})]},t.id))})}),e.jsx(r,{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(W,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"ðŸ“š Using API Keys"}),e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["Include your API key in the Authorization header: ",e.jsx("code",{className:"bg-blue-100 dark:bg-blue-800 px-2 py-1 rounded",children:"Authorization: Bearer YOUR_API_KEY"})]}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline mt-2 inline-block",children:"View API Documentation â†’"})]})]})})]})})}export{G as default};
