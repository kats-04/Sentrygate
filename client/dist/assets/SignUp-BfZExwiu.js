import{j as e,m as C}from"./animations-CVxur35w.js";import{u as A,r as o}from"./vendor-dbpypOpC.js";import{C as E,I as c,B as F}from"./Badge-CuQR1N-9.js";import{u as U}from"./index-BPDhQj-8.js";import{b as L,U as g,M as R,L as f,C as h}from"./icons-BJJ_CL-s.js";const q=()=>{const u=A(),{register:j,loading:a,error:p}=U(),[s,w]=o.useState({name:"",email:"",password:"",confirmPassword:"",role:"User"}),[b,t]=o.useState(""),[m,y]=o.useState(!1),[x,N]=o.useState(0),d=r=>{const{name:i,value:n}=r.target;if(w(l=>({...l,[i]:n})),t(""),i==="password"){let l=0;n.length>=8&&l++,/[a-z]/.test(n)&&/[A-Z]/.test(n)&&l++,/[0-9]/.test(n)&&l++,/[^a-zA-Z0-9]/.test(n)&&l++,N(l)}},v=()=>s.name.trim()?s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?s.password.length<8?(t("Password must be at least 8 characters"),!1):s.password!==s.confirmPassword?(t("Passwords do not match"),!1):!0:(t("Please enter a valid email"),!1):(t("Email is required"),!1):(t("Name is required"),!1),k=async r=>{if(r.preventDefault(),t(""),!!v())try{await j(s.name,s.email,s.password,s.role),u("/dashboard")}catch(i){t(i.message||"Registration failed. Please try again.")}},S=()=>["Very Weak","Weak","Fair","Good","Strong"][x]||"Very Weak",P=()=>["bg-red-500","bg-orange-500","bg-yellow-500","bg-lime-500","bg-green-500"][x-1]||"bg-red-500";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-50 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl mb-4",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"SG"})}),e.jsx("h1",{className:"text-headline-2 mb-2",children:"Join SentryGate"}),e.jsx("p",{className:"text-body-small text-slate-600 dark:text-slate-400",children:"Verified access. Visible actions."})]}),e.jsxs(E,{variant:"glass-lg",padding:"lg",className:"mb-6",children:[e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[(b||p)&&e.jsxs("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-start gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:b||p})]}),e.jsx(c,{type:"text",name:"name",placeholder:"Enter your full name",label:"Full Name",icon:g,value:s.name,onChange:d,disabled:a}),e.jsx(c,{type:"email",name:"email",placeholder:"Enter your email",label:"Email Address",icon:R,value:s.email,onChange:d,disabled:a}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Select Demo Role"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"role",name:"role",value:s.role,onChange:d,disabled:a,className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors appearance-none text-slate-900 dark:text-white",children:[e.jsx("option",{value:"User",children:"User (Standard)"}),e.jsx("option",{value:"TeamLead",children:"Team Lead (Manager)"}),e.jsx("option",{value:"Admin",children:"Admin (Full Access)"}),e.jsx("option",{value:"Auditor",children:"Auditor (Read Only)"})]}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(g,{className:"h-5 w-5 text-slate-400"})})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"*For demo purposes only. Usually assigned by admin."})]}),e.jsxs("div",{children:[e.jsx(c,{type:m?"text":"password",name:"password",placeholder:"Enter password (min 8 chars)",label:"Password",icon:f,value:s.password,onChange:d,disabled:a}),s.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Strength"}),e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:S()})]}),e.jsx("div",{className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ${P()}`,style:{width:`${x/4*100}%`}})})]})]}),e.jsx(c,{type:m?"text":"password",name:"confirmPassword",placeholder:"Confirm password",label:"Confirm Password",icon:f,value:s.confirmPassword,onChange:d,disabled:a}),e.jsxs("label",{htmlFor:"showPassword",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{id:"showPassword",type:"checkbox",checked:m,onChange:r=>y(r.target.checked),className:"w-4 h-4 rounded border-slate-300 text-primary-600"}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Show password"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"space-y-1 text-xs text-slate-700 dark:text-slate-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[s.password.length>=8?e.jsx(h,{className:"w-3 h-3 text-green-600"}):e.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-400"}),"At least 8 characters"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[/[a-z]/.test(s.password)&&/[A-Z]/.test(s.password)?e.jsx(h,{className:"w-3 h-3 text-green-600"}):e.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-400"}),"Mix of uppercase and lowercase"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[/[0-9]/.test(s.password)?e.jsx(h,{className:"w-3 h-3 text-green-600"}):e.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-400"}),"At least one number"]})]})]}),e.jsx(F,{type:"submit",variant:"primary",size:"lg",isLoading:a,disabled:a,className:"w-full",children:a?"Creating account...":"Sign Up"})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-300 dark:border-slate-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-3 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400",children:"Terms"})})]}),e.jsxs("p",{className:"text-xs text-center text-slate-600 dark:text-slate-400",children:["By signing up, you agree to our"," ",e.jsx("button",{type:"button",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("button",{type:"button",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Privacy Policy"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-body-small",children:["Already have an account?"," ",e.jsx("button",{onClick:()=>u("/login"),className:"text-primary-600 dark:text-primary-400 font-semibold hover:underline",children:"Sign in"})]})})]})})};export{q as default};
